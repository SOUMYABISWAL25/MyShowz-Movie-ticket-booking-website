<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Sign In - MyShowz</title>
  <link rel="stylesheet" href="assets/css/style-starter.css">
  <link rel="stylesheet" href="assets/css/sign-in.css">
  <link href="//fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,600&display=swap" rel="stylesheet">
</head>

<body>
  <!-- header -->
  <header id="site-header" class="w3l-header fixed-top">
    <nav class="navbar navbar-expand-lg navbar-light fill px-lg-0 py-0 px-3">
      <div class="container">
        <h1><a class="navbar-brand" href="index.html">
          <span class="fa fa-play icon-log" aria-hidden="true"></span> MyShowz
        </a></h1>
        
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse"
          data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="fa icon-expand fa-bars"></span>
          <span class="fa icon-close fa-times"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="movies.html">Movies</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Contact_Us.html">Contact</a>
            </li>
          </ul>

          <div class="mobile-position">
            <nav class="navigation">
              <div class="theme-switch-wrapper">
                <label class="theme-switch" for="checkbox">
                  <input type="checkbox" id="checkbox">
                  <div class="mode-container">
                    <i class="gg-sun"></i>
                    <i class="gg-moon"></i>
                  </div>
                </label>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Sign In Section -->
  <section class="auth-section">
    <div class="auth-container">
      <div class="auth-box">
        <div class="auth-header">
          <h2 id="auth-title">Welcome Back</h2>
          <p id="auth-subtitle">Sign in to your account</p>
        </div>

        <!-- Sign In Form -->
        <form id="signInForm" class="auth-form">
          <div class="form-group">
            <label for="signInEmail">Email Address</label>
            <input type="email" id="signInEmail" class="form-control" placeholder="Enter your email" required>
          </div>

          <div class="form-group">
            <label for="signInPassword">Password</label>
            <div class="password-input-wrapper">
              <input type="password" id="signInPassword" class="form-control" placeholder="Enter your password" required>
              <span class="password-toggle" onclick="togglePassword('signInPassword')">
                <i class="fa fa-eye" id="signInPassword-icon"></i>
              </span>
            </div>
          </div>

          <div class="form-options">
            <label class="remember-me">
              <input type="checkbox" id="rememberMe">
              <span>Remember me</span>
            </label>
            <a href="#" class="forgot-password" onclick="showForgotPassword(event)">Forgot Password?</a>
          </div>

          <button type="submit" class="btn-auth btn-primary" id="signInBtn">
            <span class="btn-text">Sign In</span>
            <span class="btn-loader" style="display: none;">
              <i class="fa fa-spinner fa-spin"></i> Signing in...
            </span>
          </button>

          <div class="auth-divider">
            <span>or</span>
          </div>

          <button type="button" class="btn-auth btn-secondary" onclick="showSignUp()">
            Create New Account
          </button>
        </form>

        <!-- Sign Up Form -->
        <form id="signUpForm" class="auth-form" style="display: none;">
          <div class="form-group">
            <label for="signUpName">Full Name</label>
            <input type="text" id="signUpName" class="form-control" placeholder="Enter your full name" required>
          </div>

          <div class="form-group">
            <label for="signUpEmail">Email Address</label>
            <input type="email" id="signUpEmail" class="form-control" placeholder="Enter your email" required>
          </div>

          <div class="form-group">
            <label for="signUpPassword">Password</label>
            <div class="password-input-wrapper">
              <input type="password" id="signUpPassword" class="form-control" placeholder="Create a password" required>
              <span class="password-toggle" onclick="togglePassword('signUpPassword')">
                <i class="fa fa-eye" id="signUpPassword-icon"></i>
              </span>
            </div>
            <small class="password-hint">Min 8 characters, include uppercase, lowercase, and numbers</small>
          </div>

          <div class="form-group">
            <label for="signUpConfirmPassword">Confirm Password</label>
            <div class="password-input-wrapper">
              <input type="password" id="signUpConfirmPassword" class="form-control" placeholder="Confirm your password" required>
              <span class="password-toggle" onclick="togglePassword('signUpConfirmPassword')">
                <i class="fa fa-eye" id="signUpConfirmPassword-icon"></i>
              </span>
            </div>
          </div>

          <button type="submit" class="btn-auth btn-primary" id="signUpBtn">
            <span class="btn-text">Create Account</span>
            <span class="btn-loader" style="display: none;">
              <i class="fa fa-spinner fa-spin"></i> Creating account...
            </span>
          </button>

          <div class="auth-divider">
            <span>or</span>
          </div>

          <button type="button" class="btn-auth btn-secondary" onclick="showSignIn()">
            Already have an account? Sign In
          </button>
        </form>

        <!-- Forgot Password Form -->
        <form id="forgotPasswordForm" class="auth-form" style="display: none;">
          <div class="form-group">
            <label for="forgotEmail">Email Address</label>
            <input type="email" id="forgotEmail" class="form-control" placeholder="Enter your email" required>
          </div>

          <button type="submit" class="btn-auth btn-primary" id="forgotPasswordBtn">
            <span class="btn-text">Send Reset Code</span>
            <span class="btn-loader" style="display: none;">
              <i class="fa fa-spinner fa-spin"></i> Sending...
            </span>
          </button>

          <button type="button" class="btn-auth btn-secondary" onclick="showSignIn()">
            Back to Sign In
          </button>
        </form>

        <!-- Reset Password Form -->
        <form id="resetPasswordForm" class="auth-form" style="display: none;">
          <div class="form-group">
            <label for="resetCode">Verification Code</label>
            <input type="text" id="resetCode" class="form-control" placeholder="Enter 6-digit code" required>
          </div>

          <div class="form-group">
            <label for="newPassword">New Password</label>
            <div class="password-input-wrapper">
              <input type="password" id="newPassword" class="form-control" placeholder="Enter new password" required>
              <span class="password-toggle" onclick="togglePassword('newPassword')">
                <i class="fa fa-eye" id="newPassword-icon"></i>
              </span>
            </div>
          </div>

          <button type="submit" class="btn-auth btn-primary" id="resetPasswordBtn">
            <span class="btn-text">Reset Password</span>
            <span class="btn-loader" style="display: none;">
              <i class="fa fa-spinner fa-spin"></i> Resetting...
            </span>
          </button>

          <button type="button" class="btn-auth btn-secondary" onclick="showSignIn()">
            Back to Sign In
          </button>
        </form>

        <!-- Email Verification Modal -->
        <div id="verificationModal" class="verification-modal" style="display: none;">
          <div class="verification-content">
            <button type="button" class="modal-close" onclick="closeVerificationModal()">&times;</button>
            <h3>Verify Your Email</h3>
            <p>We've sent a verification code to your email address. Please check your inbox and enter the 6-digit code below.</p>
            
            <div class="form-group">
              <label for="verificationCode">Verification Code</label>
              <input type="text" id="verificationCode" class="form-control" placeholder="Enter 6-digit code" maxlength="6" required>
            </div>

            <button type="button" class="btn-auth btn-primary" onclick="verifyEmail()">
              <span class="btn-text">Verify Email</span>
              <span class="btn-loader" style="display: none;">
                <i class="fa fa-spinner fa-spin"></i> Verifying...
              </span>
            </button>

            <button type="button" class="btn-auth btn-link" onclick="resendVerificationCode()">
              Didn't receive code? Resend
            </button>
          </div>
        </div>
      </div>

      <!-- Alert Messages -->
      <div id="alertContainer" class="alert-container"></div>
    </div>
  </section>

  <!-- Scripts -->
  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <script src="assets/js/theme-change.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script type="module" src="assets/js/amplify-auth.js"></script>

  <script>
    // Toggle password visibility
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      const icon = document.getElementById(fieldId + '-icon');
      
      if (field.type === 'password') {
        field.type = 'text';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      } else {
        field.type = 'password';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      }
    }

    // Show Sign In form
    function showSignIn() {
      document.getElementById('signInForm').style.display = 'block';
      document.getElementById('signUpForm').style.display = 'none';
      document.getElementById('forgotPasswordForm').style.display = 'none';
      document.getElementById('resetPasswordForm').style.display = 'none';
      document.getElementById('auth-title').textContent = 'Welcome Back';
      document.getElementById('auth-subtitle').textContent = 'Sign in to your account';
    }

    // Show Sign Up form
    function showSignUp() {
      document.getElementById('signInForm').style.display = 'none';
      document.getElementById('signUpForm').style.display = 'block';
      document.getElementById('forgotPasswordForm').style.display = 'none';
      document.getElementById('resetPasswordForm').style.display = 'none';
      document.getElementById('auth-title').textContent = 'Create Account';
      document.getElementById('auth-subtitle').textContent = 'Join MyShowz today';
    }

    // Show Forgot Password form
    function showForgotPassword(event) {
      event.preventDefault();
      document.getElementById('signInForm').style.display = 'none';
      document.getElementById('signUpForm').style.display = 'none';
      document.getElementById('forgotPasswordForm').style.display = 'block';
      document.getElementById('resetPasswordForm').style.display = 'none';
      document.getElementById('auth-title').textContent = 'Reset Password';
      document.getElementById('auth-subtitle').textContent = 'Enter your email to receive a reset code';
    }

    // Show Reset Password form
    function showResetPassword() {
      document.getElementById('signInForm').style.display = 'none';
      document.getElementById('signUpForm').style.display = 'none';
      document.getElementById('forgotPasswordForm').style.display = 'none';
      document.getElementById('resetPasswordForm').style.display = 'block';
      document.getElementById('auth-title').textContent = 'Reset Password';
      document.getElementById('auth-subtitle').textContent = 'Enter the code and your new password';
    }

    // Close verification modal
    function closeVerificationModal() {
      document.getElementById('verificationModal').style.display = 'none';
      document.getElementById('verificationCode').value = '';
    }

    // Navbar scroll effect
    $(window).on("scroll", function () {
      var scroll = $(window).scrollTop();
      if (scroll >= 80) {
        $("#site-header").addClass("nav-fixed");
      } else {
        $("#site-header").removeClass("nav-fixed");
      }
    });

    $(".navbar-toggler").on("click", function () {
      $("header").toggleClass("active");
    });
  </script>
</body>

</html>
